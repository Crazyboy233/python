## 个人使用命令大全

### dmesg
**基本语法**
```bash
dmesg [选项]
```

|选项|作用|示例|
|----|----|----|
|无选项|输出全部内核缓冲区日志|`dmesg`|
|`-H/--human`|人类可读格式，带时间戳和颜色高亮|`dmesg -H`|
|`-T/--ctime`|用系统本地时间显示日志时间(而非启动后的秒数)|`dmesg -T` <span style="color: red;">**常用**</span>|
|`-w/--follow`|实时监控新的内核日志(类似 `tail -f`)|`dmesg -w`|
|`-l <级别>`|过滤指定日志级别，支持 `emerg`/`alert`/`crit`/`err`/`warn`/`info`/`debug`|`dmesg -l err`(只看错误日志)|
|`-k/--kernel`|只显示内核相关日志|`dmesg -k`|
|`-u/--userspace`|只显示用户空间相关日志|`dmesg -u`|
|`-c/--clear`|输出日志后清空内核缓冲区|`dmesg -c`|
|`--color=always`|强制输出颜色高亮(便于区分不同级别日志)|`dmesg -T --color=always`|

**排查硬盘识别问题**
```python
dmesg -T | grep -i sda
```

**只查看错误和警告日志**
```python
dmesg -l err, warn
```

### export
export 是 Linux 终端中设置 / 导出环境变量的核心命令，作用是让子进程继承当前终端的变量（不加 export 的变量仅当前终端有效，子终端 / 脚本无法使用）
简单来说：**定义变量 + export 导出 = 全局有效（当前会话）**；仅定义变量 = 仅当前终端有效。

下面为 export 的两种用法
示例：
```bash
export 变量名=值  # 注意：= 前后**无空格**，值有空格需加引号
# 示例1：简单值
export PATH=/usr/local/bin:$PATH
# 示例2：值带空格
export MY_NAME="test user"

export  # 直接输export，列出当前所有导出的环境变量
```

### find
**基本语法**
```python
find 搜索路径 查找条件 操作
```

**常用参数**
| 查找条件 | 功能 |
|------|------|
|`-name`|按文件名查找(支持通配符，文件名建议加引号)|
|`-type`|按文件类型查找|
|`-size`|单位：`k`（千字节）、`M`（兆字节）、`G`（吉字节），`+` 表示大于，`-` 表示小于|
示例：
```bash
# 在当前目录找 大于100M 的文件
find . -size +100M
# 在 /tmp 目录找 小于10k 的普通文件
find . -type f -size -10k
```

### grep
**基本语法**
```bash
grep [选项] "搜索内容" 文件名
```

**常用参数**
|参数|功能|
|--|--|
|`-i`|忽略大小写|
|`-v`|反相匹配（显示不包含的行）|
|`-n`|显示行号|
|`-l`|只显示匹配到的**文件名**|
|`-c`|只显示**匹配行数**|
|`-w`|全词匹配（整词才命中）|
|`-r/-R`|递归搜索目录下所有文件|
|`-E`|使用扩展正则（等价于 `egrep`）|
|`-F`|按固定字符串匹配（不解析正则）|


### g++
**基本语法**
```python
g++ [选项参数] 源文件列表 -o 输出文件
```
**安装**
```bash
# 以 Ubuntu 为例
sudo apt install g++
```
**常用参数**
| 参数 | 功能 |
|------|------|
| `-o 文件名` | 指定输出文件（可执行/目标/汇编等） |
| `-c` | 只编译不链接，生成 `.o` 目标文件 |
| `-E` | 仅预处理，不编译/汇编/链接 |
| `-S` | 编译到汇编，生成 `.s` 汇编文件 |
| `-g` | 生成调试信息，供 GDB 调试 |
| `-std=c++xx` | 指定 C++ 标准（如 `c++11`/`c++17`） |
| `-Wall` | 开启所有常见编译警告 |
| `-O0/-O2` | 优化级别：`-O0` 无优化（默认），`-O2` 推荐生产 |
| `-I 路径` | 指定头文件搜索目录 |
| `-L 路径` | 指定库文件搜索目录 |
| `-l 库名` | 链接指定库（如 `-lm` 数学库） |
| `-D 宏` | 编译时定义宏（如 `-DDEBUG`） |
| `-v` | 显示详细编译流程 |

### tail 
**基本语法**
```bash
tail 文件名
```
**常用参数**
|参数|功能|
|-|-|
|`-n 数字`|显示最后 N 行|
|`-F`|实时刷新|


### tree
**基本语法**
```bash
tree [选项] [目录路径]
```
**安装**
下面为Ubuntu/Debian安装方法：
```bash
sudo apt install tree
```

常用参数：
|参数|功能|
|----|----|
|-d|仅显示目录，不显示文件|
|-L N|限制显示层级为 N（N 为正整数）|
|-a|显示所有文件（含隐藏文件）|
|-f|显示完整的文件 / 目录路径|
|-p|显示文件 / 目录的权限|
|-o 文件名|将输出写入指定文件|